#!/usr/bin/env bash
set -euxo pipefail

# Build phase runs once per image (great for installing tools + deps).
# Binder runs as a non-root user; install uv to ~/.local/bin.
export PATH="$HOME/.local/bin:$PATH"

# Install uv (official installer)
curl -LsSf https://astral.sh/uv/install.sh | sh

# Install the environment from your project files
uv pip install --system -e .

# Install and enable the execution time extension
uv pip install --system jupyterlab-execute-time
jupyter labextension enable @jupyterlab/notebook-extension:tracker